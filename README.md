Стандарт хранения дерева PIVO.
# Введение 
Дерево языка должно хранится в едином формате, чтобы можно было транслировать один язык в другой, так что время напрячь булки и написать лучший стандарт(стандарт говно!!!) в мире.

# Общие положения про структуру дерева

Дерево бинарное, ёпта.
Если у узла есть поддерево, то оно левое, правое может быть нулевым, либо указывать на следующую команду и т.д.
Чтобы не было расхождения по выводу дерева, **смотрите словарик**.

## Statement 

Обозначается {ST}

Все выражения по типу присваивания, тел функций и т.д., должны быть левым поддеревом специального узла **statement** 
Например, если у нас есть выражение по типу:
~~~
var x = 228;
~~~
В структуре дерева оно должно быть отражено подобным образом:
~~~
{statement}
  -Left -> {variable}
  -Right -> {statement}, либо же nullptr, если больше нечего вешать
~~~

Корнем дерева тоже является **{statement}**, от которого отходят дочерние **{statement}** и узлы **{func}**

Если вы хотите, чтобы например при срабатывании if'а можно было выполнить более одной элементарной команды, типа сравнения, нужно сначала написать statement, чтобы можно было к нему справа подвесить еще statemento'ов


## Function

Обозначается {FUNC}

О, великие функции, да подорвёт пукан наш их синтаксис.
Для начала нужно написать реализацию функции, узел {FUNC} является объявлением того, что сейчас пойдет объявление функции. {FUNC} должен быть **левым ребенком** узла {ST}.
- Левый ребенок узла {FUNC} - имя функции, узел {"название функции"}, о нем поговорим далее. 
- Правый ребенок узла - тело функции, то есть {ST}, так как в каждой области видимости он должен быть первым.

Входные параметры, имя функции и т.д. будут относиться к левому поддереву {FUNC}, то есть {"имя функции"}

### Function -> function_name

Узел с названием функции, для определенности пусть будет main.
У неё есть только левое поддерево, являющееся узлом {PAR} - узел параметров.

#### Function -> function_name -> params

Обозначается {PAR}

- Левое поддерево - узел {VAR}, см о нем далее.
- Правое поддерево - еще один узел {PAR}, либо nullptr, если это последний параметр

## function_name
Вызов функции - узел с её именем, от определения отличается тем, что ему не предшествует узел func.
- Левый ребенок: Узел PARAM
- Правый ребенок: nullptr

### function name -> PARAM
Передача параметров при вызове функции
- Левый ребенок: Выражение или число
- Правый ребенок: Еще один узел PARAM или nullptr, если параметров больше нет

## Return
Узел возврата значения или выражения
- Левый ребенок - возвращаемое выражение/значение
- nullptr

## Var

Обозначается {VAR}

Может быть использовано в двух режимах
- Присваивание переменной, используется в выражениях по типу
~~~
x = 4;
~~~
В этом случае левое поддерево - переменная. Правое - то, что присваивается, может быть и {ST} и переменной.
- Передача параметров в функцию
Используются в предыдущих параграфах для выхова и определения функций, в этом случае есть только левое поддерево, передающее имя переменной.

## Условные операторы 

### Конструкция if/else
А большего нам и не надо.<br />
Это литая конструкция, то есть нельзя писать просто if без else, тем более наоборот.<br />
<br />
Первым делом **идет узел if**
- Его левое поддерево: логическое выражение по типу 
~~~
x <= 5
~~~
 - Правое поддерево: узел **else**
 <br />
 От узла else также отходят два ребенка, в зависимости от истинности выражения x <= 5
 - Левое поддерево: истинно
 - Правое: ложно



## Вызов функции

## Словарик
Только такие слова могут быть использованы при записи на диск, иначе вы получите по жепе.
### Базовые математические операторы
- ADD: +
- SUB: -
- AND: &&
- OR: ||
- MUL: *
- DIV: /
- POW: ^

Тут имеют место быть и куча других операций, в том числе битовые сдвиги и прочая фигня, но пока что я считаю, что в стандарт входят только эти.
### Операторы сравнения
- IS_EE: ==
- IS_GE: >=
- IS_BE: <=
- IS_GT: >
- IS_BT: <
- IS_NE: !=
### Названия специальных узлов дерева
- ST: statement
- IF: if
- ELSE: else (да ладно)
- NIL: нулевой узел дерева
- VAR: инициализация переменной
- WHILE: while
- FUNC: узел функции
- RET: return
- CALL: вызов функции
- PARAM: узел параметров функции
### Прочие элементы
- EQ: =, оператор присваивания
- "имя_переменной": собственно, имя переменной, просто пишите в кавычках
- 228: любое число без дополнительных символов обозначает... число
- $ ... $: место под функции, не предустмотренные стандартом.
- < ... >: внутри скобок можно писать коментарии, которые должны пропускаться
### Стандарт говно
Стандарт - говно


# Запись дерева на диск

Запись происходит только по словарю, все логические единицы разделяются пробелами, но я буду разделять их энтерами, потому что иначе невозможно читать.

Также необходима соответствующая последовательность фигурных скобок, обозначающих вход в поддеревья и выход из них.

Попробую написать тут примерный вывод, который должен быть для программы, фотография которой должна быть где-то вставлена.

![Картинка не прогрузилась, блет]([http://url/to/img.png](https://sun1-30.userapi.com/impg/G3sZeMKzp4B9bbkb2CMMT4yo6akbrur0T8wOpg/9yXmQd6GDaU.jpg?size=1600x1200&quality=95&sign=1b22d64a2babc27e85ce3cd5cfec1c92&type=album))

~~~
{
        ST
        {
                FUNC
                {
                        "main"
                        {
                                PARAM
                                {
                                        VAR
                                        {
                                                "Z"
                                        }
                                        {
                                                NIL
                                        }
                                        PARAM
                                        {
                                                VAR
                                                {
                                                        "V"
                                                }
                                                {
                                                        NIL
                                                }
                                        }
                                }
                        }
                }
                {
                        ST
                        {
                                VAR
                                {
                                        "y"
                                }
                                {
                                        2
                                }
                        }
                        {
                                ST
                                {
                                        VAR
                                        {
                                                "x"
                                        }
                                        {
                                                5
                                        }
                                }
                                {
                                        ST
                                        {
                                                IF
                                                {
                                                        ADD
                                                        {
                                                                2
                                                        }
                                                        {
                                                                2
                                                        }
                                                }
                                                {
                                                        ELSE
                                                        {
                                                                ST
                                                                {
                                                                        EQ
                                                                        {
                                                                                "x"
                                                                        }
                                                                        {
                                                                                4
                                                                        }
                                                                }
                                                                {
                                                                        ST
                                                                        {
                                                                                EQ
                                                                                {
                                                                                        "y"
                                                                                }
                                                                                {
                                                                                        "x"
                                                                                }
                                                                        }
                                                                        {
                                                                                ST
                                                                                {
                                                                                        EQ
                                                                                        {
                                                                                                "x"
                                                                                        }
                                                                                        {
                                                                                                1
                                                                                        }
                                                                                }
                                                                                ST
                                                                                {
                                                                                        EQ
                                                                                        {
                                                                                                "x"
                                                                                        }
                                                                                        {
                                                                                                0
                                                                                        }
                                                                                }
                                                                                {
                                                                                        ST
                                                                                        {
                                                                                                RET
                                                                                                {
                                                                                                        0
                                                                                                }
                                                                                                {
                                                                                                        NIL
                                                                                                }
                                                                                        }
                                                                                        {
                                                                                                NIL
                                                                                        }
                                                                                }
                                                                        }
                                                                }
                                                        }
                                                }
                                        }
                                }
                        }
                }
        }
}
~~~
Весьма очевидная запись, проверка её правильности оставляется внимательному читателю.
Тут не было реализован вызов функции, это также упражнение для читателей

# Владян лох
